@model GP01NS.Classes.ViewModels.EstabelecimentoVM

@{
    ViewBag.Title = Model.Nome;
    ViewBag.Description = Model.Descricao;
    ViewBag.Image = Model.GetImagemPerfil();
    var Usuario = (GP01NS.Classes.ViewModels.UsuarioVM)ViewBag.Usuario;
    var Imagens = Model.GetImagens();
}

<link href="~/CSS/Views/Musico/perfil.css" rel="stylesheet" />

<div class="card col-lg-10 col-sm-12 mx-auto">
    <img class="card-img-overlay" src="@Model.GetImagemCapa()" alt="Card image cap" style="width: 100%; max-height: 300px;" />
    <div class="card-body row">
        <div class="row">
            <div class="col-lg-8 col-sm-12">
                @if (Usuario != null)
                {
                    if (Usuario.ID == Model.ID)
                    {
                        <form action="/Estabelecimento/UploadCover" method="post" enctype="multipart/form-data">
                            <input type="file" id="Arquivo" name="Arquivo" onchange="javascript:this.form.submit();">
                        </form>
                    }
                }
                <div class="row">
                    <div class="perfil" style="margin-top: 250px;">
                        <div class="perfil-texto">
                            <h2>@Model.Nome</h2>
                            <small>
                                <a href="javascript:void(0);">Denúnciar Estabelecimento</a>
                            </small>
                        </div>
                    </div>
                </div>

                <div class="row mt-5">
                    <div class="col-md-8">
                        <span class="oi oi-map-marker"></span>
                        <strong>@Model.GetEnderecoString()</strong>
                    </div>
                    <div class="col-md-4">
                        <span class="oi oi-calendar"></span>
                        <strong>@Model.GetFuncionamentoString()</strong>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="habilidade">
                        <div class="mb-2">
                            <strong>Ambientação</strong>
                        </div>
                        <div class="habilidade-lista flex">
                            <div class="habilidade-item">
                                @Model.GetAmbientacao()
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="sobre">
                        <div class="mb-2">
                            <strong>Sobre @Model.Nome</strong>
                        </div>
                        <div class="sobre-texto col-lg-11 col-sm-12 no-padding">
                            @Html.Raw(Model.Descricao.Replace("\n", "<br />"))
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-sm-12 lado-fotos">
                <div class="bloco-participante shadow p-3 bg-white rounded border mb-4">
                    <div class="row mb-4 ">
                        <div class="mb-3 text-center col-12">Veja as fotos deste estabelecimento</div>
                        <div class="foto-lista flex space-between">
                            @for (int i = 0; i < Imagens.Count; i++)
                            {
                                <div class="foto-item">
                                    <label class="foto-imagem" style="background-image: url(@("https://gerisonsabino.azurewebsites.net" + Imagens[i])"></label>
                                </div>
                            }

                            @if (Usuario != null)
                            {
                                for (int i = 0; i < 4 - Imagens.Count; i++)
                                {
                                    <div class="foto-item">
                                        <label class="foto-imagem">
                                            @if (Usuario.ID == Model.ID)
                                            {
                                                <form action="/Estabelecimento/UploadImagem" method="post" enctype="multipart/form-data">
                                                    <div class="foto-hover"></div>
                                                    <input type="file" name="Imagem" onchange="javascript:this.form.submit();">
                                                </form>
                                            }
                                        </label>
                                    </div>
                                }
                            }
                            else
                            {
                                for (int i = 0; i < 4 - Imagens.Count; i++)
                                {
                                    <div class="foto-item">
                                        <div class="foto-imagem"></div>
                                    </div>
                                }
                            }
                        </div>
                    </div>
                    <div>
                        <div class="mb-3 text-center col-12">Comentários recentes</div>
                        <div class="comentario-lista mb-4">
                            <div class="comentario-item mb-3 flex">
                                <div class="comentario-foto" style="background-image: url(https://randomuser.me/api/portraits/men/12.jpg)"></div>
                                <div class="comentario-nome">Harold King</div>
                                <div class="comentario-mensagem text-center">
                                    <div class="nota-4">
                                        <span class="voto-1 oi oi-heart"></span>
                                        <span class="voto-2 oi oi-heart"></span>
                                        <span class="voto-3 oi oi-heart"></span>
                                        <span class="voto-4 oi oi-heart"></span>
                                        <span class="voto-5 oi oi-heart"></span>
                                    </div>
                                    Mussum Ipsum, cacilds vidis litro abertis.
                                </div>
                            </div>
                            <div class="comentario-item mb-3 flex">
                                <div class="comentario-foto" style="background-image: url(https://randomuser.me/api/portraits/women/12.jpg)"></div>
                                <div class="comentario-nome">April Hughes</div>
                                <div class="comentario-mensagem text-center">
                                    <div class="nota-3">
                                        <span class="voto-1 oi oi-heart"></span>
                                        <span class="voto-2 oi oi-heart"></span>
                                        <span class="voto-3 oi oi-heart"></span>
                                        <span class="voto-4 oi oi-heart"></span>
                                        <span class="voto-5 oi oi-heart"></span>
                                    </div>
                                    Per aumento de cachacis, eu reclamis.
                                </div>
                            </div>
                            <div class="comentario-item mb-3 flex">
                                <div class="comentario-foto" style="background-image: url(https://randomuser.me/api/portraits/men/11.jpg)"></div>
                                <div class="comentario-nome">Ryan Miller</div>
                                <div class="comentario-mensagem text-center">
                                    <div class="nota-5">
                                        <span class="voto-1 oi oi-heart"></span>
                                        <span class="voto-2 oi oi-heart"></span>
                                        <span class="voto-3 oi oi-heart"></span>
                                        <span class="voto-4 oi oi-heart"></span>
                                        <span class="voto-5 oi oi-heart"></span>
                                    </div>
                                    Mé faiz elementum girarzis, nisi eros vermeio.
                                </div>
                            </div>
                        </div>
                    </div>
                    @if (Usuario != null)
                    {
                        if (Usuario.ID != Model.ID)
                        {
                            <button class="btn btn-primary">Seguir</button>
                        }
                        else
                        {
                            <a href="/estabelecimento/conta/" class="btn btn-primary">Editar Perfil</a>
                        }

                    }
                    else
                    {
                        <a href="/entrar/" class="btn btn-primary">Entre para seguir</a>
                    }
                </div>
            </div>
        </div>
        <div class="row card-compartilhar" style="padding-top: 50px;">
            <div class="col-lg-8 col-sm-12 no-padding flex">
                <div class="col-lg-7 col-sm-12 no-padding social-media">
                    <strong class="display-5">Compartilhe @Model.Nome nas redes sociais</strong>
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="javascript:void(0);"><i class="fab fa-twitter titleCustom" data-placement="top" title="Twitter" style="color: #55acee"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void(0);"><i class="fab fa-instagram titleCustom" data-placement="top" title="Instagram" style="color: #55acee"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void(0);"><i class="fab fa-facebook-square titleCustom" data-placement="top" title="Facebook" style="color: #3a589e"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void(0);"><i class="fab fa-google titleCustom" data-placement="top" title="Google+" style="color: #dc4e41"></i></a></li>
                    </ul>
                </div>
                <div class="col-lg-5 col-sm-12 no-padding">
                    <strong class="display-5">Avalie este estabelecimento</strong>
                    <div class="nota-4">
                        <span class="voto-1 oi oi-heart"></span>
                        <span class="voto-2 oi oi-heart"></span>
                        <span class="voto-3 oi oi-heart"></span>
                        <span class="voto-4 oi oi-heart"></span>
                        <span class="voto-5 oi oi-heart"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="width: 100%; padding-bottom: 10px;">
        <iframe height="450px" width="100%" frameborder="0" src="https://www.google.com/maps/embed/v1/place?q=@(Model.GetEnderecoString().Replace(" ", "+"))&key=AIzaSyD302LfE2vA-uKZl0y2MFSAJYdnBeQwTNE"></iframe>
    </div>
</div>
