@model GP01NS.Classes.ViewModels.EstabelecimentoVM

@{
    ViewBag.Title = Model.Nome;
    var Usuario = (GP01NS.Classes.ViewModels.UsuarioVM)ViewBag.Usuario;
}

<link href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" rel="stylesheet" crossorigin="anonymous" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU">
<link href="~/CSS/Views/Inicio/estabelecimento.css" rel="stylesheet" />

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12 div1" id="Cover">
            <img src="@Model.GetImagemCapa()" alt="cover" id="" />

            @if (Usuario != null)
            {
                if (Usuario.ID == Model.ID)
                {
                    <form action="/Estabelecimento/UploadCover" method="post" enctype="multipart/form-data">
                        <input type="file" id="Arquivo" name="Arquivo" onchange="javascript:this.form.submit();">
                    </form>
                }
            }
        </div>  
    </div>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-9 div2">
            <div class="row">
                <div class="col-md-6">
                    <h1 class="display-5">@Model.Nome</h1>
                </div>
                <div class="col-md-6">
                    <a href="#">Denunciar Estabelecimetno</a>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <span class="oi oi-map-marker"></span>
                    <strong>@Model.GetEnderecoString()</strong>
                </div>
                <div class="col-md-6">
                    <span class="oi oi-calendar"></span>
                    <strong>@Model.GetFuncionamentoString()</strong>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 div2">
                    <h5 class="display-5">Ambientação</h5>
                    @Model.GetAmbientacao()
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 div2">
                    <h3 class="display-5">Sobre</h3>
                    <p class="lead">
                        @Html.Raw(Model.Descricao.Replace("\n", "<br />"))
                    </p>
                </div>
            </div>
            <div class="row div2">
                <div class="col-md-6">
                    <span class="display-5"><strong>Compartilhe esse estabelecimento nas redes sociais</strong></span>
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href=""><i class="fab fa-twitter"></i></a></li>
                        <li class="list-inline-item"><a href=""><i class="fab fa-instagram"></i></a></li>
                        <li class="list-inline-item"><a href=""><i class="fab fa-facebook-square"></i></a></li>
                        <li class="list-inline-item"><a href=""><i class="fab fa-google"></i></a></li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <span class="display-5"><strong>Avalie esse Estabelecimento</strong></span>
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href=""><span class="oi oi-heart"></span></a></li>
                        <li class="list-inline-item"><a href=""><span class="oi oi-heart"></span></a></li>
                        <li class="list-inline-item"><a href=""><span class="oi oi-heart"></span></a></li>
                        <li class="list-inline-item"><a href=""><span class="oi oi-heart"></span></a></li>
                        <li class="list-inline-item"><a href=""><span class="oi oi-heart"></span></a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="bloco-participante text-center shadow p-3 mb-5 bg-white rounded border">
                <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="assets/img/perfil.svg" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Joao</h5>
                                <p>Carlos</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="assets/img/perfil.svg" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Joao</h5>
                                <p>Carlos</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="assets/img/perfil.svg" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Joao</h5>
                                <p>Carlos</p>
                            </div>
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                @if (Usuario != null)
                {
                    if (Usuario.ID != Model.ID)
                    {
                        <button class="btn btn-primary">Seguir</button>
                    }
                    else
                    {
                        <a href="/estabelecimento/conta/" class="btn btn-primary">Editar Perfil</a>
                    }

                }
                else
                {
                    <a href="/entrar/" class="btn btn-primary">Entre para seguir</a>
                }
            </div>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12 mapa">
            <iframe height="300px" width="100%" frameborder="0" src="https://www.google.com/maps/embed/v1/place?q=@(Model.GetEnderecoString().Replace(" ", "+"))&key=AIzaSyD302LfE2vA-uKZl0y2MFSAJYdnBeQwTNE"></iframe>
        </div>
    </div>
</div>
